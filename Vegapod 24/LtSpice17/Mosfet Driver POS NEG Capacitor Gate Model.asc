Version 4
SHEET 1 5452 1912
WIRE 640 -704 320 -704
WIRE 1104 -704 976 -704
WIRE 1152 -704 1104 -704
WIRE 1216 -704 1152 -704
WIRE 1376 -704 1216 -704
WIRE 1728 -704 1376 -704
WIRE 576 -688 32 -688
WIRE -240 -640 -384 -640
WIRE -48 -640 -240 -640
WIRE 192 -640 -48 -640
WIRE 320 -640 320 -704
WIRE 320 -640 192 -640
WIRE 384 -640 320 -640
WIRE 640 -640 640 -704
WIRE 384 -624 384 -640
WIRE 1152 -624 1152 -640
WIRE 1200 -624 1152 -624
WIRE 1216 -624 1200 -624
WIRE 192 -592 192 -640
WIRE -720 -576 -1056 -576
WIRE -672 -576 -720 -576
WIRE 304 -576 240 -576
WIRE 480 -576 448 -576
WIRE 560 -544 560 -576
WIRE 640 -544 640 -560
WIRE 640 -544 560 -544
WIRE 1200 -528 1200 -624
WIRE -48 -512 -48 -560
WIRE 32 -512 32 -608
WIRE 32 -512 -48 -512
WIRE 640 -512 640 -544
WIRE 976 -512 976 -704
WIRE -944 -496 -976 -496
WIRE -736 -496 -752 -496
WIRE -384 -496 -384 -640
WIRE 384 -496 384 -528
WIRE 384 -496 304 -496
WIRE 1104 -496 1104 -704
WIRE 384 -480 384 -496
WIRE -432 -464 -624 -464
WIRE -240 -464 -240 -560
WIRE -192 -464 -240 -464
WIRE 192 -464 192 -496
WIRE 352 -464 272 -464
WIRE 576 -464 576 -688
WIRE -720 -448 -720 -576
WIRE -704 -448 -720 -448
WIRE -48 -448 -48 -512
WIRE -32 -448 -48 -448
WIRE 80 -448 -32 -448
WIRE 352 -432 352 -464
WIRE 928 -432 352 -432
WIRE -1136 -416 -1168 -416
WIRE -1056 -416 -1056 -576
WIRE -976 -416 -976 -496
WIRE -192 -416 -192 -464
WIRE -192 -416 -224 -416
WIRE -176 -416 -192 -416
WIRE -32 -416 -32 -448
WIRE 80 -416 80 -448
WIRE 272 -416 272 -464
WIRE 272 -416 192 -416
WIRE 1200 -416 1200 -464
WIRE 1248 -416 1200 -416
WIRE 1376 -416 1376 -704
WIRE -1136 -400 -1136 -416
WIRE -944 -400 -1136 -400
WIRE 352 -400 352 -432
WIRE -736 -368 -736 -496
WIRE -704 -368 -736 -368
WIRE -624 -368 -624 -464
WIRE -624 -368 -704 -368
WIRE -432 -368 -432 -464
WIRE -368 -368 -432 -368
WIRE -176 -368 -176 -416
WIRE -944 -336 -1168 -336
WIRE -880 -336 -944 -336
WIRE -752 -336 -752 -400
WIRE -704 -336 -752 -336
WIRE -176 -336 -176 -368
WIRE 144 -336 80 -336
WIRE 1376 -336 1328 -336
WIRE -384 -320 -384 -416
WIRE -224 -320 -384 -320
WIRE -160 -320 -224 -320
WIRE -32 -320 -160 -320
WIRE 144 -320 -32 -320
WIRE 192 -320 144 -320
WIRE 1200 -320 1200 -416
WIRE 1328 -320 1328 -336
WIRE 1328 -320 1264 -320
WIRE 1376 -320 1376 -336
WIRE 1728 -304 1728 -704
WIRE 1904 -304 1728 -304
WIRE 1904 -288 1904 -304
WIRE -944 -272 -944 -336
WIRE -704 -272 -704 -336
WIRE -704 -272 -944 -272
WIRE -672 -272 -672 -496
WIRE -672 -272 -704 -272
WIRE -160 -272 -160 -320
WIRE -160 -272 -672 -272
WIRE 384 -272 384 -400
WIRE 640 -272 640 -416
WIRE 640 -272 384 -272
WIRE 976 -272 976 -416
WIRE 976 -272 640 -272
WIRE 1008 -272 976 -272
WIRE 1104 -272 1104 -432
WIRE 1104 -272 1008 -272
WIRE 1152 -272 1104 -272
WIRE 1200 -272 1200 -320
WIRE 1200 -272 1152 -272
WIRE 1232 -272 1200 -272
WIRE 144 -256 144 -320
WIRE 272 -256 272 -336
WIRE 272 -256 144 -256
WIRE 352 -256 352 -336
WIRE 352 -256 272 -256
WIRE 384 -256 384 -272
WIRE 384 -256 352 -256
WIRE 1728 -240 1728 -304
WIRE 624 -208 304 -208
WIRE 560 -192 16 -192
WIRE 1152 -192 1152 -208
WIRE 1216 -192 1152 -192
WIRE 1232 -192 1216 -192
WIRE -256 -144 -400 -144
WIRE -64 -144 -256 -144
WIRE 176 -144 -64 -144
WIRE 304 -144 304 -208
WIRE 304 -144 176 -144
WIRE 368 -144 304 -144
WIRE 624 -144 624 -208
WIRE 368 -128 368 -144
WIRE 1728 -112 1728 -176
WIRE 1904 -112 1904 -208
WIRE 1904 -112 1728 -112
WIRE 176 -96 176 -144
WIRE -688 -80 -736 -80
WIRE 288 -80 224 -80
WIRE 464 -80 432 -80
WIRE 544 -48 544 -80
WIRE 624 -48 624 -64
WIRE 624 -48 544 -48
WIRE 1008 -32 1008 -272
WIRE -64 -16 -64 -64
WIRE 16 -16 16 -112
WIRE 16 -16 -64 -16
WIRE 624 -16 624 -48
WIRE 1104 -16 1104 -272
WIRE 1120 -16 1104 -16
WIRE 1216 -16 1216 -192
WIRE -960 0 -992 0
WIRE -752 0 -768 0
WIRE -400 0 -400 -144
WIRE 368 0 368 -32
WIRE 368 0 288 0
WIRE 368 16 368 0
WIRE -448 32 -640 32
WIRE -256 32 -256 -64
WIRE -208 32 -256 32
WIRE 176 32 176 0
WIRE 336 32 256 32
WIRE 560 32 560 -192
WIRE 1328 32 1328 16
WIRE -736 48 -736 -80
WIRE -720 48 -736 48
WIRE -64 48 -64 -16
WIRE -48 48 -64 48
WIRE 64 48 -48 48
WIRE 336 48 336 32
WIRE 960 48 336 48
WIRE -1072 80 -1184 80
WIRE -992 80 -992 0
WIRE -208 80 -208 32
WIRE -208 80 -240 80
WIRE -192 80 -208 80
WIRE -48 80 -48 48
WIRE 64 80 64 48
WIRE 256 80 256 32
WIRE 256 80 176 80
WIRE -960 96 -976 96
WIRE 336 96 336 48
WIRE -752 128 -752 0
WIRE -720 128 -752 128
WIRE -640 128 -640 32
WIRE -640 128 -720 128
WIRE -448 128 -448 32
WIRE -384 128 -448 128
WIRE -192 128 -192 80
WIRE -976 144 -976 96
WIRE -896 144 -976 144
WIRE -960 160 -1184 160
WIRE -896 160 -896 144
WIRE -896 160 -960 160
WIRE -768 160 -768 96
WIRE -720 160 -768 160
WIRE -192 160 -192 128
WIRE 128 160 64 160
WIRE -400 176 -400 80
WIRE -240 176 -400 176
WIRE -176 176 -240 176
WIRE -48 176 -176 176
WIRE 128 176 -48 176
WIRE 176 176 128 176
WIRE -960 224 -960 160
WIRE -720 224 -720 160
WIRE -720 224 -960 224
WIRE -688 224 -688 0
WIRE -688 224 -720 224
WIRE -176 224 -176 176
WIRE -176 224 -688 224
WIRE 368 224 368 96
WIRE 624 224 624 80
WIRE 624 224 368 224
WIRE 1008 224 1008 64
WIRE 1008 224 624 224
WIRE 1120 224 1120 48
WIRE 1120 224 1008 224
WIRE 1216 224 1216 48
WIRE 1216 224 1120 224
WIRE 1376 224 1376 -240
WIRE 1376 224 1216 224
WIRE 1728 224 1728 -112
WIRE 1728 224 1376 224
WIRE 128 240 128 176
WIRE 256 240 256 160
WIRE 256 240 128 240
WIRE 336 240 336 160
WIRE 336 240 256 240
WIRE 368 240 368 224
WIRE 368 240 336 240
FLAG 176 176 0
SYMBOL nmos 128 80 R0
SYMATTR InstName M1
SYMATTR Value irf540n
SYMATTR Prefix X
SYMBOL voltage -400 -16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0.1
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL npn -112 80 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL res -80 -160 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL res -96 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL voltage -1184 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 5 0u 0u 0u 20u 33u)
SYMBOL pmos 224 0 R180
SYMATTR InstName M2
SYMATTR Value irf9540npbf
SYMATTR Prefix X
SYMBOL res 48 64 R0
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL pnp 432 -32 R180
SYMATTR InstName Q2
SYMATTR Value 2N3906
SYMBOL res 352 0 R0
SYMATTR InstName R5
SYMATTR Value 220
SYMBOL res 560 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 272 -96 R0
SYMATTR InstName R7
SYMATTR Value 100
SYMBOL res 608 -160 R0
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL npn 560 -16 R0
SYMATTR InstName Q3
SYMATTR Value 2N3904
SYMBOL res 272 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10
SYMBOL res 240 64 R0
SYMATTR InstName R4
SYMATTR Value 1000
SYMBOL npn -304 80 R0
SYMATTR InstName Q4
SYMATTR Value 2N3904
SYMBOL res -272 -160 R0
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL res -288 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 1k
SYMBOL res 0 -208 R0
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL res -976 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 100
SYMBOL voltage -688 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL res -736 32 R0
SYMATTR InstName R14
SYMATTR Value 470
SYMBOL Optos\\PC817C -864 48 R0
SYMATTR InstName U1
SYMBOL cap 320 96 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL nmos 144 -416 R0
SYMATTR InstName M3
SYMATTR Value irf540n
SYMATTR Prefix X
SYMBOL voltage -384 -512 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0.1
SYMATTR InstName V4
SYMATTR Value 15
SYMBOL npn -96 -416 R0
SYMATTR InstName Q5
SYMATTR Value 2N3904
SYMBOL res -64 -656 R0
SYMATTR InstName R15
SYMATTR Value 1k
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL res -80 -384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 1k
SYMATTR SpiceLine tol=5 pwr=0.25
SYMBOL voltage -1168 -432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE(0 5 0u 0u 0u 20u 33u)
SYMBOL pmos 240 -496 R180
SYMATTR InstName M4
SYMATTR Value irf9540npbf
SYMATTR Prefix X
SYMBOL res 64 -432 R0
SYMATTR InstName R17
SYMATTR Value 100
SYMBOL pnp 448 -528 R180
SYMATTR InstName Q6
SYMATTR Value 2N3906
SYMBOL res 368 -496 R0
SYMATTR InstName R18
SYMATTR Value 220
SYMBOL res 576 -592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 1k
SYMBOL res 288 -592 R0
SYMATTR InstName R20
SYMATTR Value 100
SYMBOL res 624 -656 R0
SYMATTR InstName R21
SYMATTR Value 1k
SYMBOL npn 576 -512 R0
SYMATTR InstName Q7
SYMATTR Value 2N3904
SYMBOL res 288 -480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 10
SYMBOL res 256 -432 R0
SYMATTR InstName R23
SYMATTR Value 1000
SYMBOL npn -288 -416 R0
SYMATTR InstName Q8
SYMATTR Value 2N3904
SYMBOL res -256 -656 R0
SYMATTR InstName R24
SYMATTR Value 1k
SYMBOL res -272 -384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R25
SYMATTR Value 1k
SYMBOL res 16 -704 R0
SYMATTR InstName R26
SYMATTR Value 10k
SYMBOL res -960 -432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 100
SYMBOL voltage -672 -592 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 5
SYMBOL res -720 -464 R0
SYMATTR InstName R28
SYMATTR Value 470
SYMBOL Optos\\PC817C -848 -448 R0
SYMATTR InstName U2
SYMBOL cap 336 -400 R0
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL nmos 928 -512 R0
SYMATTR InstName M5
SYMATTR Value IPB107N20N3
SYMBOL nmos 960 -32 R0
SYMATTR InstName M6
SYMATTR Value IPB107N20N3
SYMBOL voltage 1376 -336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 44 Left 2
SYMATTR SpiceLine Rser=0 Cpar=10uF
SYMATTR InstName V7
SYMATTR Value 180
SYMBOL diode 1120 -432 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL diode 1136 48 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL diode 1136 -704 R0
SYMATTR InstName D3
SYMATTR Value VS-E5TX1506
SYMBOL diode 1136 -272 R0
SYMATTR InstName D4
SYMATTR Value VS-E5TX1506
SYMBOL res 1200 -720 R0
SYMATTR InstName R29
SYMATTR Value 220
SYMATTR SpiceLine tol=5
SYMBOL res 1216 -288 R0
SYMATTR InstName R30
SYMATTR Value 220
SYMATTR SpiceLine tol=5
SYMBOL cap 1712 -240 R0
SYMATTR InstName C5
SYMATTR Value 330µ
SYMBOL voltage 1376 -432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 44 Left 2
SYMATTR SpiceLine Rser=0 Cpar=10uF
SYMATTR InstName V8
SYMATTR Value 180
SYMBOL cap 1264 -336 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 1µ
TEXT -592 232 Left 2 !.tran 0.05s
TEXT 3808 -424 Left 2 !.SUBCKT irf540n 1 2 3\n* SPICE3 MODEL WITH THERMAL RC NETWORK\n**************************************\n*      Model Generated by MODPEX     *\n*Copyright(c) Symmetry Design Systems*\n*         All Rights Reserved        *\n*    UNPUBLISHED LICENSED SOFTWARE   *\n*   Contains Proprietary Information *\n*      Which is The Property of      *\n*     SYMMETRY OR ITS LICENSORS      *\n*Commercial Use or Resale Restricted *\n*   by Symmetry License Agreement    *\n**************************************\n* Model generated on Sep  5, 01\n* MODEL FORMAT: SPICE3\n* Symmetry POWER MOS Model (Version 1.0)\n* External Node Designations\n* Node 1 -> Drain\n* Node 2 -> Gate\n* Node 3 -> Source\nM1 9 7 8 8 MM L=100u W=100u\n.MODEL MM NMOS LEVEL=1 IS=1e-32\n+VTO=3.58173 LAMBDA=0.00806114 KP=112.25\n+CGSO=1.896e-05 CGDO=1e-11\nRS 8 3 0.025918\nD1 3 1 MD\n.MODEL MD D IS=1.565e-11 RS=0.006486 N=1.1328 BV=100\n+IBV=0.00025 EG=1.2 XTI=3.32496 TT=0\n+CJO=1.16e-09 VJ=3.16363 M=0.840542 FC=0.5\nRDS 3 1 1e+06\nRD 9 1 0.0130608\nRG 2 7 6.45271\nD2 4 5 MD1\n* Default values used in MD1:\n*   RS=0 EG=1.11 XTI=3.0 TT=0\n*   BV=infinite IBV=1mA\n.MODEL MD1 D IS=1e-32 N=50\n+CJO=1.30485e-09 VJ=0.899032 M=0.9 FC=1e-08\nD3 0 5 MD2\n* Default values used in MD2:\n*   EG=1.11 XTI=3.0 TT=0 CJO=0\n*   BV=infinite IBV=1mA\n.MODEL MD2 D IS=1e-10 N=0.4 RS=3e-06\nRL 5 10 1\nFI2 7 9 VFI2 -1\nVFI2 4 0 0\nEV16 10 0 9 7 1\nCAP 11 10 2.35428e-09\nFI1 7 9 VFI1 -1\nVFI1 11 6 0\nRCAP 6 10 1\nD4 0 6 MD3\n* Default values used in MD3:\n*   EG=1.11 XTI=3.0 TT=0 CJO=0\n*   RS=0 BV=infinite IBV=1mA\n.MODEL MD3 D IS=1e-10 N=0.4\n.ENDS irf540n\n \n*SPICE Thermal Model Subcircuit\n.SUBCKT irf540nt 3 0\n \nR_RTHERM1         2 3  0.158\nR_RTHERM2         1 2  0.274\nR_RTHERM3         0 1  0.29\nC_CTHERM1         2 3  0.00131\nC_CTHERM2         1 2  0.001686\nC_CTHERM3         0 1  0.022562\n \n.ENDS irf540nt
TEXT 4656 -480 Left 2 !.SUBCKT irf9540npbf 1 2 3\n**************************************\n*      Model Generated by MODPEX     *\n*Copyright(c) Symmetry Design Systems*\n*         All Rights Reserved        *\n*    UNPUBLISHED LICENSED SOFTWARE   *\n*   Contains Proprietary Information *\n*      Which is The Property of      *\n*     SYMMETRY OR ITS LICENSORS      *\n*Commercial Use or Resale Restricted *\n*   by Symmetry License Agreement    *\n**************************************\n* Model generated on Aug 15, 17\n* MODEL FORMAT: SPICE3\n* Symmetry POWER MOS Model (Version 1.0)\n* External Node Designations\n* Node 1 -> Drain\n* Node 2 -> Gate\n* Node 3 -> Source\nM1 9 7 8 8 MM L=100u W=100u\n.MODEL MM PMOS LEVEL=1 IS=1e-32\n+VTO=-3.74034 LAMBDA=0.00254531 KP=6.90462\n+CGSO=1.15995e-05 CGDO=1e-11\nRS 8 3 0.0448511\nD1 1 3 MD\n.MODEL MD D IS=4.56468e-09 RS=0.00874877 N=1.45317 BV=100\n+IBV=0.00025 EG=1.15553 XTI=3.00117 TT=1e-07\n+CJO=9.64423e-10 VJ=0.500897 M=0.387171 FC=0.5\nRDS 3 1 2e+07\nRD 9 1 0.0421247\nRG 2 7 6.66725\nD2 5 4 MD1\n* Default values used in MD1:\n*   RS=0 EG=1.11 XTI=3.0 TT=0\n*   BV=infinite IBV=1mA\n.MODEL MD1 D IS=1e-32 N=50\n+CJO=3.36744e-09 VJ=0.5 M=0.683702 FC=1e-08\nD3 5 0 MD2\n* Default values used in MD2:\n*   EG=1.11 XTI=3.0 TT=0 CJO=0\n*   BV=infinite IBV=1mA\n.MODEL MD2 D IS=1e-10 N=0.4 RS=2.99982e-06\nRL 5 10 1\nFI2 7 9 VFI2 -1\nVFI2 4 0 0\nEV16 10 0 9 7 1\nCAP 11 10 3.66446e-09\nFI1 7 9 VFI1 -1\nVFI1 11 6 0\nRCAP 6 10 1\nD4 6 0 MD3\n* Default values used in MD3:\n*   EG=1.11 XTI=3.0 TT=0 CJO=0\n*   RS=0 BV=infinite IBV=1mA\n.MODEL MD3 D IS=1e-10 N=0.4\n.ENDS irf9540npbf
